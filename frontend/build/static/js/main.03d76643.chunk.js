(this.webpackJsonpfftimer=this.webpackJsonpfftimer||[]).push([[0],{371:function(e,t,r){},372:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=r(42),i=r.n(n),s=r(17),o=r(12),l=r.n(o),b=r(24),u=r(49),d=r(74),j=r.n(d),h=["data","customHeaders"],O="/api";function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.data,a=t.customHeaders,c=Object(u.a)(t,h),n=Object(s.a)({url:"".concat(O,"/").concat(e),method:r?"POST":"GET",data:r?JSON.stringify(r):void 0,headers:Object(s.a)({},a)},c);return j()(n).then(function(){var e=Object(b.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data;case 2:if(r=e.sent,!(t.status>=200&&t.status<300)){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",Promise.reject(r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function f(){return(f=Object(b.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(O,"/me"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var m=r(7);var x={status:"idle",data:null,error:null};function v(e){var t=a.useRef(Object(s.a)(Object(s.a)({},x),e)),r=a.useReducer((function(e,t){return Object(s.a)(Object(s.a)({},e),t)}),t.current),c=Object(m.a)(r,2),n=c[0],i=n.status,o=n.data,l=n.error,b=function(e){var t=a.useRef(!1);return a.useLayoutEffect((function(){return t.current=!0,function(){return t.current=!1}}),[]),a.useCallback((function(){return t.current?e.apply(void 0,arguments):void 0}),[e])}(c[1]),u=a.useCallback((function(e){return b({data:e,status:"resolved"})}),[b]),d=a.useCallback((function(e){return b({error:e,status:"rejected"})}),[b]),j=a.useCallback((function(){return b(t.current)}),[b]),h=a.useCallback((function(e){if(!e||!e.then)throw new Error("The argument passed to useAsync().run must be a promise. Maybe a function that's passed isn't returning anything?");return b({status:"pending"}),e.then((function(e){return u(e),e}),(function(e){return d(e),null}))}),[b,u,d]);return{isIdle:"idle"===i,isLoading:"pending"===i,isError:"rejected"===i,isSuccess:"resolved"===i,setData:u,setError:d,error:l,status:i,data:o,run:h,reset:j}}var g=r(47),y=r(31),w=r(5),N=function(e){switch(e){case"name":return"M22 11 C22 16 19 20 16 20 13 20 10 16 10 11 10 6 12 3 16 3 20 3 22 6 22 11 Z M4 30 L28 30 C28 21 22 20 16 20 10 20 4 21 4 30 Z";case"password":return"M5 15 L5 30 27 30 27 15 Z M9 15 C9 9 9 5 16 5 23 5 23 9 23 15 M16 20 L16 23";case"cellphone":return"M21 2 L11 2 C10 2 9 3 9 4 L9 28 C9 29 10 30 11 30 L21 30 C22 30 23 29 23 28 L23 4 C23 3 22 2 21 2 Z M9 5 L23 5 M9 27 L23 27";case"calendar":return"M2 6 L2 30 30 30 30 6 Z M2 15 L30 15 M7 3 L7 9 M13 3 L13 9 M19 3 L19 9 M25 3 L25 9";case"email":return"M2 26 L30 26 30 6 2 6 Z M2 6 L16 16 30 6";default:return""}},C=function(e){return Object(w.jsx)(B,{children:Object(w.jsx)("svg",{className:"w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",stroke:"currentColor",children:Object(w.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6.25%",d:N(e.iconName)})})})},k=r(84),S=r(66),D=r(55),L=r.p+"static/media/circle250.439011ca.png",M="#4caf50",E="#ef5350",T=r(3),P=Object(k.a)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),F=Object(g.a)(S.a)({animation:"".concat(P," 1s linear infinite")});F.defaultProps={"aria-label":"loading"};var Y=g.a.button({transitionProperty:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",padding:"0.75rem",fontSize:"1.25rem",lineHeight:"1.75rem",fontWeight:"700",textAlign:"center","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",textTransform:"uppercase","--tw-bg-opacity":"1",backgroundColor:"rgba(220, 38, 38, var(--tw-bg-opacity))",borderBottomWidth:"4px","--tw-border-opacity":"1",borderColor:"rgba(185, 28, 28, var(--tw-border-opacity))",borderRadius:"0.25rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(239, 68, 68, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(254, 226, 226, var(--tw-text-opacity))"}}),R=g.a.button({transitionProperty:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",padding:"0.75rem",fontSize:"1.25rem",lineHeight:"1.75rem",fontWeight:"700",textAlign:"center","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",textTransform:"uppercase",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(243, 244, 246, var(--tw-border-opacity))",borderRadius:"0.25rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(55, 65, 81, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(229, 231, 235, var(--tw-text-opacity))"}}),B=g.a.div({"--tw-bg-opacity":"1",backgroundColor:"rgba(55, 65, 81, var(--tw-bg-opacity))",borderTopLeftRadius:"0.25rem",borderBottomLeftRadius:"0.25rem",padding:"0.75rem"}),I=g.a.div({display:"flex",verticalAlign:"middle"}),H=g.a.input({"--tw-bg-opacity":"1",backgroundColor:"rgba(55, 65, 81, var(--tw-bg-opacity))",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem",outline:"2px solid transparent",outlineOffset:"2px","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"100%",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"}}),A=function(e){var t=e.ariaLabel,r=e.name,a=e.type,c=e.placeholder,n=(e.ref,e.autoFocus),i=Object(y.d)(r),o=Object(m.a)(i,1)[0];return Object(T.c)(I,{children:[Object(T.b)(C,{iconName:r}),Object(T.b)(H,Object(s.a)(Object(s.a)({className:"text-black"},o),{},{ariaLabel:t,name:o.name,type:a,placeholder:c,autoFocus:n,autoComplete:"off"}))]})},G=Object(g.a)(D.b)({display:"inline-block",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontSize:"1.125rem",lineHeight:"1.75rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(220, 38, 38, var(--tw-bg-opacity))"},borderRadius:"0.25rem"}),U=g.a.button({width:"2rem",height:"2rem",display:"flex","--tw-bg-opacity":"1",backgroundColor:"rgba(107, 114, 128, var(--tw-bg-opacity))",borderRadius:"9999px",alignItems:"center",justifyContent:"center","--tw-text-opacity":"1",color:"rgba(243, 244, 246, var(--tw-text-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(156, 163, 175, var(--tw-bg-opacity))"}});function q(){return Object(T.c)("div",{children:[Object(T.c)("div",{children:[Object(T.b)("img",{className:"logo",src:L,alt:"FallForward"}),Object(T.b)("h1",{className:"mt-6 text-xl",children:"Fall Forward"})]}),Object(T.c)("div",{className:"pl-3 mt-2 mb-2 space-y-2",children:[Object(T.b)("p",{children:'"Drop By Drop,'}),Object(T.b)("p",{children:'"The Bucket Will Be Filled."'})]})]})}function z(){return Object(T.b)("div",{css:{fontSize:"4em",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(T.b)(F,{})})}function W(e){var t=e.error;return Object(T.c)("div",{role:"alert",css:{color:E,height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(T.b)("p",{children:"Uh oh... There's a problem. Try refreshing the app."}),Object(T.b)("pre",{children:t.message})]})}var J=c.a.createContext();J.displayName="AuthContext";var Z=function(e){var t=function(){var e=Object(b.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p("logout");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.prev=8,O(null),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,5,8,11]])})));return function(){return e.apply(this,arguments)}}(),r=v(),a=r.data,n=r.isError,i=r.error,o=r.isLoading,u=r.isIdle,d=r.isSuccess,j=r.run,h=r.status,O=r.setData;if(c.a.useEffect((function(){var e=function(){return f.apply(this,arguments)}();j(e)}),[j]),o||u)return Object(w.jsx)(z,{});if(n){console.log(i);var m={user:a,setData:O};return Object(w.jsx)(J.Provider,Object(s.a)({value:m},e))}if(d){var x={user:a,logout:t,setData:O};return Object(w.jsx)(J.Provider,Object(s.a)({value:x},e))}throw new Error("Unhandled status: ".concat(h))};function _(){var e=c.a.useContext(J);if(void 0===e)throw new Error("useAuth must be used within a AuthProvider");return e}r(139);var V=r(45),K=["data","files","customHeaders"],Q=c.a.createContext();Q.displayName="FecthContext";var X=function(e){var t=j.a.create({baseURL:"/api"});return Object(w.jsx)(Q.Provider,Object(s.a)({value:{authClient:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.data,c=r.files,n=r.customHeaders,i=Object(u.a)(r,K),o=Object(s.a)({url:"/".concat(e),method:a?"POST":"GET",data:a?JSON.stringify(a):c||void 0,headers:Object(s.a)({"Content-Type":a?"application/json":c?"multipart/form-data":void 0},n)},i);return t(o).then(function(){var e=Object(b.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 401===t.status&&403===t.status&&(console.log("csrf failed"),window.location.assign(window.location)),e.next=3,t.data;case 3:if(r=e.sent,!(t.status>=200&&t.status<300)){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",Promise.reject(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},e))};function $(){var e=c.a.useContext(Q);if(void 0===e)throw new Error("useFetch must be used within a FetchProvider");return e}var ee=r(22),te=V.a().shape({name:V.b().required("Username is required"),email:V.b().email().required("Email is required"),password:V.b().min(6,"Needs to Be More Than 6 digit long!").required("Password is required")});function re(){var e=_().setData,t=c.a.useState(),r=Object(m.a)(t,2),a=r[0],n=r[1],i=c.a.useState(),s=Object(m.a)(i,2),o=s[0],u=s[1],d=c.a.useState(!1),j=Object(m.a)(d,2),h=j[0],O=j[1],p=c.a.useState(!1),f=Object(m.a)(p,2),x=f[0],v=f[1],g=$().authClient,w=function(){var t=Object(b.a)(l.a.mark((function t(r){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v(!0),t.next=4,g("signup",{method:"POST",data:r});case 4:a=t.sent,n("Successfully Login!"),u(null),setTimeout((function(){e(a),O(!0)}),700),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(0),v(!1),console.log("err",t.t0.response.data),u(t.t0.response.data),n(null);case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(T.c)(T.a,{children:[h&&Object(T.b)(ee.a,{to:"/clock"}),Object(T.b)("div",{children:Object(T.b)(y.c,{initialValues:{name:"",email:"",password:""},validationSchema:te,onSubmit:function(e){return w(e)},children:function(e,t){return Object(T.c)(y.b,{children:[Object(T.c)("div",{className:"mb-4",children:[Object(T.b)(A,{ariaLabel:"Username",name:"name",type:"text",placeholder:"  Username",autoFocus:!0}),Object(T.b)("div",{className:"text-red-600",children:Object(T.b)(y.a,{name:"name"})})]}),Object(T.c)("div",{className:"mb-4",children:[Object(T.b)(A,{ariaLabel:"email",name:"email",type:"text",placeholder:"  Email"}),Object(T.b)("div",{className:"text-red-600",children:Object(T.b)(y.a,{name:"email"})})]}),Object(T.c)("div",{className:"mb-4",children:[Object(T.b)(A,{ariaLabel:"Password",name:"password",type:"password",placeholder:"  Password"}),Object(T.b)("div",{className:"text-red-600",children:Object(T.b)(y.a,{name:"password"})})]}),Object(T.b)(Y,{style:{width:"100%",height:"3.8rem",fontWeight:"600"},type:"submit",children:x?Object(T.b)(F,{}):o?Object(T.b)(S.b,{"aria-label":"error",css:{color:E}}):Object(T.b)("div",{children:"Sign Up"})}),a?Object(T.b)("div",{css:{color:M},children:Object(T.b)("pre",{children:a})}):null,o?Object(T.b)("div",{css:{color:E},children:Object(T.b)("pre",{children:o})}):null]})}})})]})}var ae=V.a().shape({name:V.b().required("Username is required"),password:V.b().required("Password is required")});function ce(){var e=_().setData,t=c.a.useState(),r=Object(m.a)(t,2),a=r[0],n=r[1],i=c.a.useState(),s=Object(m.a)(i,2),o=s[0],u=s[1],d=c.a.useState(!1),j=Object(m.a)(d,2),h=j[0],O=j[1],p=c.a.useState(!1),f=Object(m.a)(p,2),x=f[0],v=f[1],g=$().authClient,w=function(){var t=Object(b.a)(l.a.mark((function t(r){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,v(!0),t.next=4,g("signin",{method:"POST",data:r});case 4:a=t.sent,n("Successfully Login!"),u(null),setTimeout((function(){e(a),O(!0)}),500),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(0),v(!1),console.log("err",t.t0.response.data),u(t.t0.response.data),n(null);case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(T.c)(T.a,{children:[h&&Object(T.b)(ee.a,{to:"/clock"}),Object(T.b)("div",{children:Object(T.b)(y.c,{initialValues:{name:"",password:""},validationSchema:ae,onSubmit:function(e){return w(e)},children:function(e,t){return Object(T.c)(y.b,{children:[Object(T.c)("div",{className:"mb-4",children:[Object(T.b)(A,{ariaLabel:"Username",name:"name",type:"text",placeholder:"  Username or Cellphone",autoFocus:!0}),Object(T.b)("div",{className:"text-red-600",children:Object(T.b)(y.a,{name:"name"})})]}),Object(T.c)("div",{className:"mb-4",children:[Object(T.b)(A,{ariaLabel:"Password",name:"password",type:"password",placeholder:"  Password"}),Object(T.b)("div",{className:"text-red-600",children:Object(T.b)(y.a,{name:"password"})})]}),Object(T.b)(Y,{className:"w-full",type:"submit",children:x?Object(T.b)(F,{}):o?Object(T.b)(S.b,{"aria-label":"error",css:{color:E}}):Object(T.b)("div",{children:" Log In "})}),a?Object(T.b)("div",{css:{color:M},children:Object(T.b)("pre",{children:a})}):null,o?Object(T.b)("div",{css:{color:E},children:Object(T.b)("pre",{children:o})}):null]})}})})]})}var ne=r(180),ie=r(127),se=r(53),oe=["title","children"];se.animated.DialogOverlay=Object(se.animated)(ie.b),se.animated.DialogContent=Object(se.animated)(ie.a);var le=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.forEach((function(e){return e&&e.apply(void 0,r)}))}},be=c.a.createContext();function ue(e){var t=c.a.useState(!1),r=Object(m.a)(t,2),a=r[0],n=r[1];return Object(T.b)(be.Provider,Object(s.a)({value:[a,n]},e))}function de(e){var t=e.children,r=c.a.useContext(be),a=Object(m.a)(r,2)[1];return c.a.cloneElement(t,{onClick:le((function(){return a(!1)}),t.props.onClick)})}function je(e){var t=e.children,r=c.a.useContext(be),a=Object(m.a)(r,2)[1];return c.a.cloneElement(t,{onClick:le((function(){return a(!0)}),t.props.onClick)})}function he(e){e.title;var t=e.children,r=Object(u.a)(e,oe),n=c.a.useContext(be),i=Object(m.a)(n,2),o=i[0],l=i[1],b=Object(a.useRef)(null);return b.current||(b.current=document.getElementById("root")),Object(se.useTransition)(o,{from:{opacity:0,xyz:[0,-30,0],blur:0},enter:{opacity:1,xyz:[0,0,0],blur:8},leave:{opacity:0,xyz:[0,30,0],blur:0},delay:200,onChange:function(e){o&&(b.current.style.filter="blur(".concat(20,"px)")),o||(b.current.style.filter="blur(".concat(0,"px)"))}})((function(e,a){var c=e.opacity,n=e.xyz;return a&&Object(T.b)(se.animated.DialogOverlay,{style:{opacity:c},onDismiss:function(){return l(!1)},children:Object(T.c)(se.animated.DialogContent,Object(s.a)(Object(s.a)({style:{transform:n.to((function(e,t,r){return"translate3d(".concat(e,"px, ").concat(t,"px, ").concat(r,"px)")})),backgroundColor:"#1E293B",margin:"22vh  auto",maxWidth:"450px"},className:"rounded-2xl"},r),{},{children:[Object(T.b)("div",{className:"flex justify-end ",children:Object(T.b)(de,{children:Object(T.c)(U,{children:[Object(T.b)(ne.a,{children:"Close"}),Object(T.b)("span",{"aria-hidden":!0,children:"\xd7"})]})})}),Object(T.b)("div",{className:"mt-2",children:t})]}))})}))}var Oe=function(){return Object(T.b)("div",{className:"min-h-screen bg-blueGray-800",children:Object(T.c)("div",{className:"flex flex-col items-center justify-center pt-32 text-white ",children:[Object(T.b)(q,{className:"relative"}),Object(T.c)("div",{className:"flex flex-col w-1/5 mt-4 space-y-5 ",children:[Object(T.c)(ue,{children:[Object(T.b)(je,{children:Object(T.b)(Y,{children:"Login"})}),Object(T.b)(he,{"aria-label":"Login form",children:Object(T.b)(ce,{})})]}),Object(T.c)(ue,{children:[Object(T.b)(je,{children:Object(T.b)(R,{children:"Sign up"})}),Object(T.b)(he,{"aria-label":"Sign up form",children:Object(T.b)(re,{})})]})]})]})})},pe=r(97),fe=r(181),me=r.n(fe),xe=(r(314),r(52)),ve=r.n(xe);var ge=function(e){var t=e.history,r=t.map((function(e){return Object(w.jsxs)("tr",{className:"sessiontable__tr__content",children:[Object(w.jsx)("td",{className:"cell",children:e.id}),Object(w.jsx)("td",{className:"cell",children:ve()(e.started).format("YYYY-MM-DD HH:mm:ss")}),Object(w.jsx)("td",{className:"cell",children:ve()(e.finished).format("YYYY-MM-DD HH:mm:ss")})]},e.ID)}));return Object(w.jsx)("div",{className:"mx-auto",children:t.length>0?Object(w.jsxs)("table",{className:"table sessiontable table-hover table-mc-light-blue",children:[Object(w.jsxs)("thead",{children:[Object(w.jsx)("tr",{children:Object(w.jsxs)("th",{className:"",children:["Total: ",t.length]})}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{className:"head",children:"Session_ID"}),Object(w.jsx)("th",{className:"head",children:"Started"}),Object(w.jsx)("th",{className:"head",children:"Ended"})]})]}),Object(w.jsx)("tbody",{children:r})]}):Object(w.jsx)("div",{className:"pt-1 text-xl",children:"No Session Recorded"})})},ye=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(new Date),i=Object(m.a)(n,2),s=i[0],o=i[1],u=$().authClient,d=function(){var e=Object(b.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ve()(s).format("YYYYMMDD"),e.prev=1,e.next=4,u("dailysession/".concat(t),{method:"post",withCredentials:!0});case 4:r=e.sent,c(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return Object(w.jsx)(ge,{history:r})}),[r]),Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("div",{className:"min-h-screen bg-blueGray-800",children:Object(w.jsxs)("div",{className:"flex flex-col items-center justify-center pt-16 text-white lg:pt-32 ",children:[Object(w.jsx)(q,{showWisdom:!0}),Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d()},children:[Object(w.jsxs)(I,{children:[Object(w.jsx)(C,{iconName:"calendar"}),Object(w.jsx)(me.a,{className:"w-full p-4 text-lg text-white rounded-r outline-none bg-coolGray-700 hover:bg-coolGray-600",selected:s,onChange:function(e){return o(e)},dateFormat:"yyyyMMdd",isClearable:!0})]}),Object(w.jsx)(Y,{className:"w-full mt-4",type:"submit",children:Object(w.jsx)("div",{children:"Go"})})]}),Object(w.jsx)("div",{className:"flex mt-4 text-center",children:Object(w.jsx)(ge,{history:r})})]})})})};function we(){var e=Object(a.useState)(null),t=Object(m.a)(e,2),r=t[0],n=t[1],i=Object(a.useState)(null),s=Object(m.a)(i,2),o=s[0],l=s[1],b=c.a.useState(null),u=Object(m.a)(b,2),d=u[0],j=u[1],h=Object(a.useState)(),O=Object(m.a)(h,2),p=O[0],f=O[1],x=c.a.useContext(be),v=Object(m.a)(x,2)[1],g=Object(a.useRef)(null),y=$().authClient;Object(a.useEffect)((function(){r&&l(r.name.substring(0,25)),r||l(null)}),[r]);return Object(w.jsxs)("form",{children:[Object(w.jsxs)("div",{className:"container flex p-4 mx-auto space-x-6 rounded bg-coolGray-700",children:[null===r?Object(w.jsx)(Y,{onClick:function(e){e.preventDefault(),g.current.click()},children:"Select A File"}):Object(w.jsx)(R,{onClick:function(e){e.preventDefault(),n(null),f(null)},children:"Clear"}),Object(w.jsx)("p",{className:"flex items-center text-lg",children:o}),Object(w.jsx)(H,{onChange:function(e){e.target.files&&n(e.target.files[0])},className:"hidden",ref:g,name:"sound file",type:"file"})]}),Object(w.jsxs)("div",{className:"pt-4",children:[r?Object(w.jsx)(Y,{onClick:function(e){e.preventDefault();var t=new FormData;t.append("file",r),y("upload",{method:"POST",files:t,onUploadProgress:function(e){if(e.total>177){var t=Math.round(100*e.loaded/e.total);f(t)}}}).then((function(e){j(e),setTimeout((function(){console.log("closing"),v(!1)}),1100)})).catch((function(e){return console.log(e)}))},children:"submit"}):Object(w.jsx)(R,{disabled:!0,children:"submit"}),p?Object(w.jsxs)("div",{className:"relative pt-1",children:[Object(w.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(w.jsx)("div",{children:Object(w.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-semibold text-teal-600 uppercase bg-teal-200 rounded-full",children:d?Object(w.jsx)("div",{children:d}):Object(w.jsx)("div",{children:" Upload in progress"})})}),Object(w.jsx)("div",{className:"text-right",children:Object(w.jsx)("span",{className:"inline-block text-xs font-semibold text-teal-600",children:"".concat(p,"%")})})]}),Object(w.jsx)("div",{className:"flex h-2 mb-4 overflow-hidden text-xs bg-teal-200 rounded",children:Object(w.jsx)("div",{style:{width:"".concat(p,"%")},className:"flex flex-col justify-center text-center text-white bg-teal-500 shadow-none whitespace-nowrap"})})]}):null]})]})}var Ne=function(){var e=_(),t=e.user,r=e.logout;return Object(w.jsxs)("div",{className:"w-full h-12 bg-coolGray-900",children:[Object(w.jsx)(G,{to:"/clock",children:"Timer"}),Object(w.jsx)(G,{to:"/datepicker",children:"Date-pick"}),Object(w.jsx)(G,{onClick:function(){return r()},children:"Sign Out"}),Object(w.jsxs)(ue,{children:[Object(w.jsx)(je,{children:Object(w.jsxs)(G,{children:["hi, ",t.name]})}),Object(w.jsx)(he,{"aria-label":"upload form",children:Object(w.jsx)(we,{})})]})]})},Ce=r(16),ke=r.p+"static/media/welldone.b7666902.mp3",Se=function(e,t){var r=window.localStorage,c=Object(a.useState)(function(e){try{return JSON.parse(e)}catch(t){return null}}(r.getItem(e)||JSON.stringify(t))),n=Object(m.a)(c,2),i=n[0],s=n[1];return Object(a.useEffect)((function(){r.setItem(e,JSON.stringify(i))}),[e,i]),[i,s]},De="3600",Le=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(""),i=Object(m.a)(n,2),s=i[0],o=i[1],l=Object(a.useState)(""),b=Object(m.a)(l,2),u=b[0],d=b[1],j=Object(a.useState)(!1),h=Object(m.a)(j,2),O=h[0],p=h[1],f=Object(a.useState)(),x=Object(m.a)(f,2),v=x[0],g=x[1],y=Se("history",[]),N=Object(m.a)(y,2),C=N[0],k=N[1],S=Se("timeLeft",De),D=Object(m.a)(S,2),L=D[0],M=D[1],E=Object(a.useState)(),T=Object(m.a)(E,2),P=T[0],F=T[1],Y=$().authClient,R=new Audio(ke);Object(a.useEffect)((function(){c("0"!==L&&null!==L?L:De)}),[]),Object(a.useEffect)((function(){var e=parseInt(r/60,10),t=parseInt(r%60,10);t=t<10?"0"+t:t,o(e=e<10?"0"+e:e),d(t),M(r)}),[r]),function(e,t){var r=Object(a.useRef)();Object(a.useEffect)((function(){r.current=e}),[e]),Object(a.useEffect)((function(){if(t>0){var e=setInterval((function(){r.current()}),1e3);return function(){clearInterval(e)}}0===t&&(p(!1),k([].concat(Object(Ce.a)(C),[{id:C.length+1,started:v,finished:I()}])),B(),R.play())}),[t])}((function(){c(r-1)}),O?r:null),Object(a.useEffect)((function(){if(C.length>0){var e=ve()(C[0].started).format("YYYY-MM-DD HH:mm:ss").split(" "),t=I();ve()(t).format("YYYY-MM-DD HH:mm:ss").split(" ")[0]!==e[0]&&(console.log("Brand New Day! Let us Go!"),k([]))}}),[]);var B=function(){try{Y("recordsession",{method:"post",withCredentials:!0,data:{started:v}})}catch(e){console.log(e),F(e)}},I=function(){return(new Date).toISOString()};return Object(w.jsx)("div",{className:"min-h-screen pt-24 bg-blueGray-800",children:Object(w.jsxs)("div",{className:"mx-auto text-center",children:[Object(w.jsx)("div",{className:"relative top-0 p-12 pt-10 mx-auto text-center shadow-xl w-80 h-44 border-1 rounded-xl countdown",children:Object(w.jsxs)("div",{className:"pb-4",children:[Object(w.jsx)("span",{className:"text-7xl whitebox",children:s}),Object(w.jsx)("span",{className:"text-7xl whitebox",children:u}),Object(w.jsxs)("div",{className:"relative",children:[Object(w.jsx)("li",{children:"Mins"}),Object(w.jsx)("li",{children:"Secs"})]})]})}),Object(w.jsx)("div",{className:"mt-4",children:Object(w.jsxs)("div",{className:"space-x-2 text-center ",children:[Object(w.jsx)("button",{className:O?"ButtonDisabled":" ActiveButton",disabled:O,onClick:function(){0===r&&c(De),g(I()),p(!0)},children:Object(w.jsx)("span",{className:"font-bold uppercase",children:"Start"})}),Object(w.jsx)("button",{className:O?" ActiveButton":"ButtonDisabled",disabled:!O,onClick:function(){return p(!1)},children:Object(w.jsx)("span",{className:"font-bold uppercase",children:"Pause"})})]})}),P&&Object(w.jsxs)("p",{className:"errorMSG",children:[P," "]}),Object(w.jsx)("div",{className:"flex mt-4 text-center",children:C.length>0&&Object(w.jsx)(ge,{history:C})})]})})};function Me(){return Object(T.b)("div",{css:{height:"100%",display:"grid",alignItems:"center",justifyContent:"center"},children:Object(T.c)("div",{children:["Sorry... nothing here. ",Object(T.b)(G,{to:"/clock",children:"Go home"})]})})}function Ee(){return Object(T.c)(ee.d,{children:[Object(T.b)(ee.b,{path:"/",exact:!0,render:function(){return Object(T.b)(Le,{})}}),Object(T.b)(ee.b,{path:"/clock",render:function(){return Object(T.b)(Le,{})}}),Object(T.b)(ee.b,{path:"/datepicker",render:function(){return Object(T.b)(ye,{})}}),Object(T.b)(ee.b,{path:"*",render:function(){return Object(T.b)(Me,{})}})]})}var Te=function(){return Object(T.c)(pe.ErrorBoundary,{FallbackComponent:W,children:[Object(T.b)(Ne,{}),Object(T.b)(Ee,{})]})};var Pe=function(){var e=_().user;return Object(T.b)(c.a.Suspense,{fallback:Object(T.b)(z,{}),children:e?Object(T.b)(Te,{}):Object(T.b)(Oe,{})})};r(371);function Fe(e){var t=e.children;return Object(w.jsx)(X,{children:Object(w.jsx)(D.a,{children:Object(w.jsx)(Z,{children:Object(w.jsx)(pe.ErrorBoundary,{FallbackComponent:W,children:t})})})})}i.a.render(Object(w.jsx)(Fe,{children:Object(w.jsx)(Pe,{})}),document.querySelector("#root"))}},[[372,1,2]]]);
//# sourceMappingURL=main.03d76643.chunk.js.map