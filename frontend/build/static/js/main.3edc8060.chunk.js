(this.webpackJsonpfftimer=this.webpackJsonpfftimer||[]).push([[0],{348:function(e,t,r){},349:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(44),i=r.n(c),s=r(9),o=r(14),l=r.n(o),u=r(18),b=r(40),d=r(62),j=r.n(d),h=["data","customHeaders"],m="/api";function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.data,n=t.customHeaders,a=Object(b.a)(t,h),c=Object(s.a)({url:"".concat(m,"/").concat(e),method:r?"POST":"GET",data:r?JSON.stringify(r):void 0,headers:Object(s.a)({},n)},a);return j()(c).then(function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data;case 2:if(r=e.sent,!(t.status>=200&&t.status<300)){e.next=7;break}return e.abrupt("return",r);case 7:return e.abrupt("return",Promise.reject(r));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function p(){return(p=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(m,"/me"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var f=r(6);var v={status:"idle",data:null,error:null};function x(e){var t=n.useRef(Object(s.a)(Object(s.a)({},v),e)),r=n.useReducer((function(e,t){return Object(s.a)(Object(s.a)({},e),t)}),t.current),a=Object(f.a)(r,2),c=a[0],i=c.status,o=c.data,l=c.error,u=function(e){var t=n.useRef(!1);return n.useLayoutEffect((function(){return t.current=!0,function(){return t.current=!1}}),[]),n.useCallback((function(){return t.current?e.apply(void 0,arguments):void 0}),[e])}(a[1]),b=n.useCallback((function(e){return u({data:e,status:"resolved"})}),[u]),d=n.useCallback((function(e){return u({error:e,status:"rejected"})}),[u]),j=n.useCallback((function(){return u(t.current)}),[u]),h=n.useCallback((function(e){if(!e||!e.then)throw new Error("The argument passed to useAsync().run must be a promise. Maybe a function that's passed isn't returning anything?");return u({status:"pending"}),e.then((function(e){return b(e),e}),(function(e){return d(e),null}))}),[u,b,d]);return{isIdle:"idle"===i,isLoading:"pending"===i,isError:"rejected"===i,isSuccess:"resolved"===i,setData:b,setError:d,error:l,status:i,data:o,run:h,reset:j}}var g=r(37),w=r(71),y=r(54),C=r(43),N=r.p+"static/media/circle250.439011ca.png",k="#4caf50",S="#ef5350",L=r(2),D=Object(w.a)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),M=Object(g.a)(y.a)({animation:"".concat(D," 1s linear infinite")});M.defaultProps={"aria-label":"loading"};var I=g.a.button({transitionProperty:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",padding:"0.75rem",fontSize:"1.25rem",lineHeight:"1.75rem",fontWeight:"700",textAlign:"center","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",textTransform:"uppercase","--tw-bg-opacity":"1",backgroundColor:"rgba(220, 38, 38, var(--tw-bg-opacity))",borderBottomWidth:"4px","--tw-border-opacity":"1",borderColor:"rgba(185, 28, 28, var(--tw-border-opacity))",borderRadius:"0.25rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(239, 68, 68, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(254, 226, 226, var(--tw-text-opacity))"}}),T=g.a.button({transitionProperty:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",padding:"0.75rem",fontSize:"1.25rem",lineHeight:"1.75rem",fontWeight:"700",textAlign:"center","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",textTransform:"uppercase",borderWidth:"2px","--tw-border-opacity":"1",borderColor:"rgba(243, 244, 246, var(--tw-border-opacity))",borderRadius:"0.25rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(55, 65, 81, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(229, 231, 235, var(--tw-text-opacity))"}}),E=g.a.div({display:"flex",verticalAlign:"middle"}),F=g.a.div({"--tw-bg-opacity":"1",backgroundColor:"rgba(55, 65, 81, var(--tw-bg-opacity))",borderTopLeftRadius:"0.25rem",borderBottomLeftRadius:"0.25rem",padding:"0.75rem"}),P=g.a.input({"--tw-bg-opacity":"1",backgroundColor:"rgba(55, 65, 81, var(--tw-bg-opacity))",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem",outline:"2px solid transparent",outlineOffset:"2px","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",width:"100%",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(75, 85, 99, var(--tw-bg-opacity))"}}),q=Object(g.a)(C.b)({display:"inline-block",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:"0.75rem",paddingRight:"0.75rem","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontSize:"1.125rem",lineHeight:"1.75rem",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(220, 38, 38, var(--tw-bg-opacity))"},borderRadius:"0.25rem"}),B=g.a.button({width:"2rem",height:"2rem",display:"flex","--tw-bg-opacity":"1",backgroundColor:"rgba(107, 114, 128, var(--tw-bg-opacity))",borderRadius:"9999px",alignItems:"center",justifyContent:"center","--tw-text-opacity":"1",color:"rgba(243, 244, 246, var(--tw-text-opacity))",":hover":{"--tw-bg-opacity":"1",backgroundColor:"rgba(156, 163, 175, var(--tw-bg-opacity))"}});function Y(){return Object(L.c)("div",{children:[Object(L.c)("div",{children:[Object(L.b)("img",{className:"logo",src:N,alt:"FallForward"}),Object(L.b)("h1",{className:"mt-6 text-xl",children:"Fall Forward"})]}),Object(L.c)("div",{className:"pl-3 mt-2 mb-2 space-y-2",children:[Object(L.b)("p",{children:'"Drop By Drop,'}),Object(L.b)("p",{children:'"The Bucket Will Be Filled."'})]})]})}function A(){return Object(L.b)("div",{css:{fontSize:"4em",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(L.b)(M,{})})}function R(e){var t=e.error;return Object(L.c)("div",{role:"alert",css:{color:S,height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(L.b)("p",{children:"Uh oh... There's a problem. Try refreshing the app."}),Object(L.b)("pre",{children:t.message})]})}var H=r(4),G=a.a.createContext();G.displayName="AuthContext";var W=function(e){var t=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O("logout");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.prev=8,m(null),e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,5,8,11]])})));return function(){return e.apply(this,arguments)}}(),r=x(),n=r.data,c=r.isError,i=r.error,o=r.isLoading,b=r.isIdle,d=r.isSuccess,j=r.run,h=r.status,m=r.setData;if(a.a.useEffect((function(){var e=function(){return p.apply(this,arguments)}();j(e)}),[j]),o||b)return Object(H.jsx)(A,{});if(c){console.log(i);var f={user:n,setData:m};return Object(H.jsx)(G.Provider,Object(s.a)({value:f},e))}if(d){var v={user:n,logout:t,setData:m};return Object(H.jsx)(G.Provider,Object(s.a)({value:v},e))}throw new Error("Unhandled status: ".concat(h))};function U(){var e=a.a.useContext(G);if(void 0===e)throw new Error("useAuth must be used within a AuthProvider");return e}r(121);var J=function(e){switch(e){case"name":return"M22 11 C22 16 19 20 16 20 13 20 10 16 10 11 10 6 12 3 16 3 20 3 22 6 22 11 Z M4 30 L28 30 C28 21 22 20 16 20 10 20 4 21 4 30 Z";case"password":return"M5 15 L5 30 27 30 27 15 Z M9 15 C9 9 9 5 16 5 23 5 23 9 23 15 M16 20 L16 23";case"cellphone":return"M21 2 L11 2 C10 2 9 3 9 4 L9 28 C9 29 10 30 11 30 L21 30 C22 30 23 29 23 28 L23 4 C23 3 22 2 21 2 Z M9 5 L23 5 M9 27 L23 27";case"calendar":return"M2 6 L2 30 30 30 30 6 Z M2 15 L30 15 M7 3 L7 9 M13 3 L13 9 M19 3 L19 9 M25 3 L25 9";case"email":return"M2 26 L30 26 30 6 2 6 Z M2 6 L16 16 30 6";default:return""}},z=function(e){return Object(H.jsx)(F,{children:Object(H.jsx)("svg",{className:"w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32",stroke:"currentColor",children:Object(H.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6.25%",d:J(e.iconName)})})})},Z=r(22),_=r(35),V=["data","customHeaders"],K=a.a.createContext();K.displayName="FecthContext";var Q=function(e){var t=j.a.create({baseURL:"/api"});return Object(H.jsx)(K.Provider,Object(s.a)({value:{authClient:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.data,a=r.customHeaders,c=Object(b.a)(r,V),i=Object(s.a)({url:"/".concat(e),method:n?"POST":"GET",data:n?JSON.stringify(n):void 0,headers:Object(s.a)({"Content-Type":n?"application/json":void 0},a)},c);return t(i).then(function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 401===t.status&&403===t.status&&(console.log("csrf failed"),window.location.assign(window.location)),e.next=3,t.data;case 3:if(r=e.sent,!(t.status>=200&&t.status<300)){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",Promise.reject(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},e))};function X(){var e=a.a.useContext(K);if(void 0===e)throw new Error("useFetch must be used within a FetchProvider");return e}var $=r(12),ee=_.a().shape({name:_.b().required("Username is required"),email:_.b().email().required("Email is required"),password:_.b().min(6,"Needs to Be More Than 6 digit long!").required("Password is required")}),te=function(e){var t=e.ariaLabel,r=e.name,n=e.type,a=e.placeholder,c=Object(Z.d)(r),i=Object(f.a)(c,1)[0];return Object(L.c)(E,{children:[Object(L.b)(z,{iconName:r}),Object(L.b)(P,Object(s.a)(Object(s.a)({},i),{},{ariaLabel:t,name:i.name,type:n,placeholder:a}))]})};function re(){var e=U().setData,t=a.a.useState(),r=Object(f.a)(t,2),n=r[0],c=r[1],i=a.a.useState(),s=Object(f.a)(i,2),o=s[0],b=s[1],d=a.a.useState(!1),j=Object(f.a)(d,2),h=j[0],m=j[1],O=a.a.useState(!1),p=Object(f.a)(O,2),v=p[0],x=p[1],g=X().authClient,w=function(){var t=Object(u.a)(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),t.next=4,g("signup",{method:"POST",data:r});case 4:n=t.sent,c("Successfully Login!"),b(null),setTimeout((function(){e(n),m(!0)}),700),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(0),x(!1),console.log("err",t.t0.response.data),b(t.t0.response.data),c(null);case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(L.c)(L.a,{children:[h&&Object(L.b)($.a,{to:"/clock"}),Object(L.b)("div",{children:Object(L.b)(Z.c,{initialValues:{name:"",email:"",password:""},validationSchema:ee,onSubmit:function(e){return w(e)},children:function(e,t){return Object(L.c)(Z.b,{children:[Object(L.c)("div",{className:"mb-4",children:[Object(L.b)(te,{ariaLabel:"Username",name:"name",type:"text",placeholder:"  Username"}),Object(L.b)("div",{className:"text-red-600",children:Object(L.b)(Z.a,{name:"name"})})]}),Object(L.c)("div",{className:"mb-4",children:[Object(L.b)(te,{ariaLabel:"email",name:"email",type:"text",placeholder:"  Email"}),Object(L.b)("div",{className:"text-red-600",children:Object(L.b)(Z.a,{name:"email"})})]}),Object(L.c)("div",{className:"mb-4",children:[Object(L.b)(te,{ariaLabel:"Password",name:"password",type:"password",placeholder:"  Password"}),Object(L.b)("div",{className:"text-red-600",children:Object(L.b)(Z.a,{name:"password"})})]}),Object(L.b)(I,{style:{width:"100%",height:"3.8rem",fontWeight:"600"},type:"submit",children:v?Object(L.b)(M,{}):o?Object(L.b)(y.b,{"aria-label":"error",css:{color:S}}):Object(L.b)("div",{children:"Sign Up"})}),n?Object(L.b)("div",{css:{color:k},children:Object(L.b)("pre",{children:n})}):null,o?Object(L.b)("div",{css:{color:S},children:Object(L.b)("pre",{children:o})}):null]})}})})]})}var ne=_.a().shape({name:_.b().required("Username is required"),password:_.b().required("Password is required")}),ae=function(e){var t=e.ariaLabel,r=e.name,n=e.type,a=e.placeholder,c=Object(Z.d)(r),i=Object(f.a)(c,1)[0];return Object(L.c)(E,{children:[Object(L.b)(z,{iconName:r}),Object(L.b)(P,Object(s.a)(Object(s.a)({},i),{},{ariaLabel:t,name:i.name,type:n,placeholder:a}))]})};function ce(){var e=U().setData,t=a.a.useState(),r=Object(f.a)(t,2),n=r[0],c=r[1],i=a.a.useState(),s=Object(f.a)(i,2),o=s[0],b=s[1],d=a.a.useState(!1),j=Object(f.a)(d,2),h=j[0],m=j[1],O=a.a.useState(!1),p=Object(f.a)(O,2),v=p[0],x=p[1],g=X().authClient,w=function(){var t=Object(u.a)(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,x(!0),t.next=4,g("signin",{method:"POST",data:r});case 4:n=t.sent,c("Successfully Login!"),b(null),setTimeout((function(){e(n),m(!0)}),500),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(0),x(!1),console.log("err",t.t0.response.data),b(t.t0.response.data),c(null);case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(L.c)(L.a,{children:[h&&Object(L.b)($.a,{to:"/clock"}),Object(L.b)("div",{children:Object(L.b)(Z.c,{initialValues:{name:"",password:""},validationSchema:ne,onSubmit:function(e){return w(e)},children:function(e,t){return Object(L.c)(Z.b,{children:[Object(L.c)("div",{className:"mb-4",children:[Object(L.b)(ae,{ariaLabel:"Username",name:"name",type:"text",placeholder:"  Username or Cellphone"}),Object(L.b)("div",{className:"text-red-600",children:Object(L.b)(Z.a,{name:"name"})})]}),Object(L.c)("div",{className:"mb-4",children:[Object(L.b)(ae,{ariaLabel:"Password",name:"password",type:"password",placeholder:"  Password"}),Object(L.b)("div",{className:"text-red-600",children:Object(L.b)(Z.a,{name:"password"})})]}),Object(L.b)(I,{className:"w-full",type:"submit",children:v?Object(L.b)(M,{}):o?Object(L.b)(y.b,{"aria-label":"error",css:{color:S}}):Object(L.b)("div",{children:" Log In "})}),n?Object(L.b)("div",{css:{color:k},children:Object(L.b)("pre",{children:n})}):null,o?Object(L.b)("div",{css:{color:S},children:Object(L.b)("pre",{children:o})}):null]})}})})]})}var ie=r(157),se=r(109),oe=["title","children"],le=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.forEach((function(e){return e&&e.apply(void 0,r)}))}},ue=n.createContext();function be(e){var t=n.useState(!1),r=Object(f.a)(t,2),a=r[0],c=r[1];return Object(L.b)(ue.Provider,Object(s.a)({value:[a,c]},e))}function de(e){var t=e.children,r=n.useContext(ue),a=Object(f.a)(r,2)[1];return n.cloneElement(t,{onClick:le((function(){return a(!1)}),t.props.onClick)})}function je(e){var t=e.children,r=n.useContext(ue),a=Object(f.a)(r,2)[1];return n.cloneElement(t,{onClick:le((function(){return a(!0)}),t.props.onClick)})}function he(e){e.title;var t=e.children,r=Object(b.a)(e,oe),a=n.useContext(ue),c=Object(f.a)(a,2),i=c[0],o=c[1];return Object(L.b)(se.b,Object(s.a)(Object(s.a)({style:{background:"hsla(224, 34%, 64%, 0.85)"},isOpen:i,onDismiss:function(){return o(!1)}},r),{},{children:Object(L.c)(se.a,{className:" rounded-xl",style:{backgroundColor:"#1E293B",margin:"22vh  auto",maxWidth:"450px"},children:[Object(L.b)("div",{className:"flex justify-end ",children:Object(L.b)(de,{children:Object(L.c)(B,{children:[Object(L.b)(ie.a,{children:"Close"}),Object(L.b)("span",{"aria-hidden":!0,children:"\xd7"})]})})}),Object(L.b)("div",{className:"mt-2",children:t})]})}))}var me=function(){var e=a.a.useState("none"),t=Object(f.a)(e,2)[1];return Object(L.b)("div",{className:"min-h-screen bg-blueGray-800",children:Object(L.c)("div",{className:"flex flex-col items-center justify-center pt-32 text-white ",children:[Object(L.b)(Y,{className:"relative"}),Object(L.c)("div",{className:"flex flex-col w-1/5 mt-4 space-y-5 ",children:[Object(L.c)(be,{children:[Object(L.b)(je,{children:Object(L.b)(I,{onClick:function(){return t("login")},children:"Login"})}),Object(L.b)(he,{"aria-label":"Login form",children:Object(L.b)(ce,{})})]}),Object(L.c)(be,{children:[Object(L.b)(je,{children:Object(L.b)(T,{onClick:function(){return t("signup")},children:"Sign up"})}),Object(L.b)(he,{"aria-label":"Sign up form",children:Object(L.b)(re,{})})]})]})]})})},Oe=r(81),pe=r(158),fe=r.n(pe),ve=(r(290),r(41)),xe=r.n(ve),ge=function(e){if(e)return Object(H.jsxs)("div",{className:"mt-2 mb-2 space-y-2",children:[Object(H.jsx)("p",{children:'"Drop By Drop,'}),Object(H.jsx)("p",{children:' "The Bucket Will Be Filled."'})]})};var we=function(e){var t=e.showWisdom;return Object(H.jsxs)("div",{children:[Object(H.jsxs)("div",{children:[Object(H.jsx)("div",{children:Object(H.jsx)("img",{src:N,alt:"FallForward"})}),Object(H.jsx)("h1",{className:"mt-6 text-xl",children:"Fall Forward"})]}),ge(t)]})};var ye=function(e){var t=e.history,r=t.map((function(e){return Object(H.jsxs)("tr",{className:"sessiontable__tr__content",children:[Object(H.jsx)("td",{className:"cell",children:e.id}),Object(H.jsx)("td",{className:"cell",children:xe()(e.started).format("YYYY-MM-DD HH:mm:ss")}),Object(H.jsx)("td",{className:"cell",children:xe()(e.finished).format("YYYY-MM-DD HH:mm:ss")})]},e.ID)}));return Object(H.jsx)("div",{className:"mx-auto",children:t.length>0?Object(H.jsxs)("table",{className:"table sessiontable table-hover table-mc-light-blue",children:[Object(H.jsxs)("thead",{children:[Object(H.jsx)("tr",{children:Object(H.jsxs)("th",{className:"",children:["Total: ",t.length]})}),Object(H.jsxs)("tr",{children:[Object(H.jsx)("th",{className:"head",children:"Session_ID"}),Object(H.jsx)("th",{className:"head",children:"Started"}),Object(H.jsx)("th",{className:"head",children:"Ended"})]})]}),Object(H.jsx)("tbody",{children:r})]}):Object(H.jsx)("div",{className:"pt-1 text-xl",children:"No Session Recorded"})})},Ce=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(new Date),i=Object(f.a)(c,2),s=i[0],o=i[1],b=X().authClient,d=function(){var e=Object(u.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=xe()(s).format("YYYYMMDD"),e.prev=1,e.next=4,b("dailysession/".concat(t),{method:"post",withCredentials:!0});case 4:r=e.sent,a(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return Object(H.jsx)(ye,{history:r})}),[r]),Object(H.jsx)(H.Fragment,{children:Object(H.jsx)("div",{className:"min-h-screen bg-blueGray-800",children:Object(H.jsxs)("div",{className:"flex flex-col items-center justify-center pt-16 text-white lg:pt-32 ",children:[Object(H.jsx)(we,{showWisdom:!0}),Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d()},children:[Object(H.jsxs)(E,{children:[Object(H.jsx)(z,{iconName:"calendar"}),Object(H.jsx)(fe.a,{className:"w-full p-4 text-lg text-white rounded-r outline-none bg-coolGray-700 hover:bg-coolGray-600",selected:s,onChange:function(e){return o(e)},dateFormat:"yyyyMMdd",isClearable:!0})]}),Object(H.jsx)(I,{className:"w-full mt-4",type:"submit",children:Object(H.jsx)("div",{children:"Go"})})]}),Object(H.jsx)("div",{className:"flex mt-4 text-center",children:Object(H.jsx)(ye,{history:r})})]})})})};var Ne=function(){var e=U(),t=e.user,r=e.logout,n=a.a.useState("none"),c=Object(f.a)(n,2)[1];return Object(H.jsxs)("div",{className:"w-full h-12 bg-coolGray-900",children:[Object(H.jsx)(q,{to:"/clock",children:"Timer"}),Object(H.jsx)(q,{to:"/datepicker",children:"Date-pick"}),Object(H.jsx)(q,{onClick:function(){return r()},children:"Sign Out"}),Object(H.jsxs)(be,{children:[Object(H.jsx)(je,{children:Object(H.jsxs)(q,{onClick:function(){return c("lfg")},children:["hi, ",t.name]})}),Object(H.jsx)(he,{"aria-label":"Login form",children:Object(H.jsx)("h2",{className:"text-6xl text-center text-pink-600",children:Object(H.jsx)("strong",{children:"Let's Go!!"})})})]})]})},ke=r(20),Se=r.p+"static/media/welldone.b7666902.mp3",Le=function(e,t){var r=window.localStorage,a=Object(n.useState)(function(e){try{return JSON.parse(e)}catch(t){return null}}(r.getItem(e)||JSON.stringify(t))),c=Object(f.a)(a,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){r.setItem(e,JSON.stringify(i))}),[e,i]),[i,s]},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=a.a.useState(0),n=Object(f.a)(r,2),c=n[0],i=n[1],s=a.a.useState(!1),o=Object(f.a)(s,2),l=o[0],u=o[1],b=a.a.useState(!1),d=Object(f.a)(b,2),j=d[0],h=d[1],m=Le("timeLeft",e),O=Object(f.a)(m,2),p=O[0],v=O[1],x=a.a.useRef({}),g=function e(r){x.current.started||(x.current.started=r,x.current.lastInterval=r);var n=Math.min(t,x.current.timeLeft||1/0);r-x.current.lastInterval>=n&&(x.current.lastInterval+=n,i((function(e){return x.current.timeLeft=e-n,v(x.current.timeLeft),x.current.timeLeft}))),r-x.current.started<x.current.timeToCount?x.current.requestId=window.requestAnimationFrame(e):(x.current={},i(0),v(0),u(!1),h(!0))},w=a.a.useCallback((function(t){window.cancelAnimationFrame(x.current.requestId);var r=void 0!==t?t:e,n=parseInt(p);x.current.started=null,x.current.lastInterval=null,x.current.timeToCount=n>0?n:r,x.current.requestId=window.requestAnimationFrame(g),v(x.current.timeToCount),i(r),u(!0),h(!1)}),[]),y=a.a.useCallback((function(){window.cancelAnimationFrame(x.current.requestId),x.current.started=null,x.current.lastInterval=null,x.current.timeToCount=x.current.timeLeft,u(!1)}),[]),C=a.a.useCallback((function(){!x.current.started&&x.current.timeLeft>0&&(window.cancelAnimationFrame(x.current.requestId),x.current.requestId=window.requestAnimationFrame(g)),u(!0)}),[]),N=a.a.useCallback((function(){x.current.timeLeft&&(window.cancelAnimationFrame(x.current.requestId),x.current={},i(0)),u(!1)}),[]),k=a.a.useMemo((function(){return{start:w,pause:y,resume:C,reset:N}}),[]);return a.a.useEffect((function(){return N}),[]),[c,k,l,j]},Me=parseInt(36e5),Ie=function(){var e=Le("timeLeft",Me),t=Object(f.a)(e,1)[0],r=t&&0!==parseInt(t)?parseInt(t):Me,a=Le("history",[]),c=Object(f.a)(a,2),i=c[0],s=c[1],o=De(r,1e3),l=Object(f.a)(o,4),u=l[0],b=l[1],d=l[2],j=l[3],h=Object(n.useState)(""),m=Object(f.a)(h,2),O=m[0],p=m[1],v=Object(n.useState)(""),x=Object(f.a)(v,2),g=x[0],w=x[1],y=Object(n.useState)(),C=Object(f.a)(y,2),N=C[0],k=C[1],S=Object(n.useState)(),L=Object(f.a)(S,2),D=L[0],M=L[1],I=X().authClient,T=new Audio(Se);Object(n.useEffect)((function(){P(u)}),[u]),Object(n.useEffect)((function(){P(r)}),[]),Object(n.useEffect)((function(){!0===j&&(T.play(),E(),s([].concat(Object(ke.a)(i),[{id:i.length+1,started:N,finished:F()}])))}),[j]),Object(n.useEffect)((function(){if(i.length>0){var e=xe()(i[0].started).format("YYYY-MM-DD HH:mm:ss").split(" "),t=F();xe()(t).format("YYYY-MM-DD HH:mm:ss").split(" ")[0]!==e[0]&&(console.log("Brand New Day! Let us Go!"),s([]))}}),[]);var E=function(){try{I("recordsession",{method:"post",withCredentials:!0,data:{started:N}})}catch(e){console.log(e),M(e)}},F=function(){return(new Date).toISOString()},P=function(e){var t=parseInt(e/60/1e3),r=parseInt(e/1e3%60);r=r<10?"0"+r:r,p(t=t<10?"0"+t:t),w(r)};return Object(H.jsx)("div",{className:"min-h-screen pt-24 bg-blueGray-800",children:Object(H.jsxs)("div",{className:"mx-auto text-center",children:[Object(H.jsx)("div",{className:"relative top-0 p-12 pt-10 mx-auto text-center shadow-xl w-80 h-44 border-1 rounded-xl countdown",children:Object(H.jsxs)("div",{className:"pb-4",children:[Object(H.jsx)("span",{className:"text-7xl whitebox",children:O}),Object(H.jsx)("span",{className:"text-7xl whitebox",children:g}),Object(H.jsxs)("div",{className:"relative",children:[Object(H.jsx)("li",{children:"Mins"}),Object(H.jsx)("li",{children:"Secs"})]})]})}),Object(H.jsx)("div",{className:"mt-4",children:Object(H.jsxs)("div",{className:"space-x-2 text-center ",children:[Object(H.jsx)("button",{className:d?"ButtonDisabled":" ActiveButton",disabled:d,onClick:function(){0===u?(b.start(),k(F())):b.resume()},children:Object(H.jsx)("span",{className:"font-bold uppercase",children:"Start"})}),Object(H.jsx)("button",{className:d?" ActiveButton":"ButtonDisabled",disabled:!d,onClick:function(){return b.pause()},children:Object(H.jsx)("span",{className:"font-bold uppercase",children:"Pause"})})]})}),D&&Object(H.jsxs)("p",{className:"errorMSG",children:[D," "]}),Object(H.jsx)("div",{className:"flex mt-4 text-center",children:i.length>0&&Object(H.jsx)(ye,{history:i})})]})})};function Te(){return Object(L.b)("div",{css:{height:"100%",display:"grid",alignItems:"center",justifyContent:"center"},children:Object(L.c)("div",{children:["Sorry... nothing here. ",Object(L.b)(q,{to:"/clock",children:"Go home"})]})})}function Ee(){return Object(L.c)($.d,{children:[Object(L.b)($.b,{path:"/",exact:!0,render:function(){return Object(L.b)(Ie,{})}}),Object(L.b)($.b,{path:"/clock",render:function(){return Object(L.b)(Ie,{})}}),Object(L.b)($.b,{path:"/datepicker",render:function(){return Object(L.b)(Ce,{})}}),Object(L.b)($.b,{path:"*",render:function(){return Object(L.b)(Te,{})}})]})}var Fe=function(){return Object(L.c)(Oe.ErrorBoundary,{FallbackComponent:R,children:[Object(L.b)(Ne,{}),Object(L.b)(Ee,{})]})};var Pe=function(){var e=U().user;return Object(L.b)(a.a.Suspense,{fallback:Object(L.b)(A,{}),children:e?Object(L.b)(Fe,{}):Object(L.b)(me,{})})};r(348);function qe(e){var t=e.children;return Object(H.jsx)(Q,{children:Object(H.jsx)(C.a,{children:Object(H.jsx)(W,{children:Object(H.jsx)(Oe.ErrorBoundary,{FallbackComponent:R,children:t})})})})}i.a.render(Object(H.jsx)(qe,{children:Object(H.jsx)(Pe,{})}),document.querySelector("#root"))}},[[349,1,2]]]);
//# sourceMappingURL=main.3edc8060.chunk.js.map